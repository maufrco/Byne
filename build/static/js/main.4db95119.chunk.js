(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{46:function(e,t,r){e.exports=r(54)},54:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o),l=r(7),c=r.n(l),a=r(29),i=r(14),s=Object(o.createContext)({});function u(){return Object(o.useContext)(s)}var b=function(e){var t=e.children,r=Object(o.useRef)(),l=Object(o.useState)(),c=Object(i.a)(l,2),u=c[0],b=c[1],d=Object(o.useState)([]),f=Object(i.a)(d,2),m=f[0],y=f[1],E=Object(o.useState)(!1),g=Object(i.a)(E,2),C=g[0],p=g[1],v=Object(o.useState)(new Map),h=Object(i.a)(v,2),k=h[0],O=h[1];Object(o.useEffect)((function(){return r.current=new WebSocket("".concat("ws://").concat("127.0.0.1",":").concat("8080"),"json"),r.current.onopen=function(){try{console.log("CONNECTING")}catch(e){console.error(e)}},r.current.onerror=function(){try{console.error("Connection Error with WebSocket")}catch(e){console.error(e)}},function(){F()}}),[]),Object(o.useEffect)((function(){r.current&&(r.current.onmessage=function(e){try{var t=JSON.parse(e.data);if("stocks-update"===t.event){var r=Object.keys(t.stocks)[0],o=Object.values(t.stocks)[0];S(r)&&O(new Map(k.set(r,o)))}else"connected"===t.event?(p(!0),b(t)):console.log(t)}catch(n){console.error(n)}})}),[C,m]);var S=function(e){return Boolean(m.find((function(t){return e===t})))},j=function(e){return k.delete(e)},F=function(){try{if(!r.current)return;p(!1),r.current.close()}catch(e){console.error(e)}};return n.a.createElement(s.Provider,{value:{initialConfig:u,isConnected:C,monitor:k,stockSymbols:m,subscribe:function(e){try{if(!r.current||S(e))return;var t={event:"subscribe",stocks:[].concat(Object(a.a)(m),[e])};y([].concat(Object(a.a)(m),[e])),r.current.send(JSON.stringify(t))}catch(o){console.error(o)}},isSubscribed:S,unsubscribe:function(e){try{if(!r.current||!S(e))return;var t={event:"unsubscribe",stocks:[e]};y(m.filter((function(t){return t!==e}))),j(e),r.current.send(JSON.stringify(t))}catch(o){console.error(o)}}}},t)},d=r(88),f=function(e){var t=u(),r=t.monitor,o=t.subscribe,l=t.unsubscribe,c=e.children;return n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{onChange:function(e){e.target.checked?o(c):l(c)},name:c,inputProps:{"aria-label":"secondary checkbox"}}),n.a.createElement("div",null,r.get(c)&&Number(r.get(c)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))},m=r(35),y=r.n(m),E=r(41),g=r.n(E);y.a.setOptions({colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],backgroundColor:{linearGradient:[0,0,0,300],stops:[[0,"rgb(42, 42, 43)"],[1,"rgb(62, 62, 64)"]],style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"},title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}}});var C=function(e){var t=u(),r=t.monitor,l=t.stockSymbols,c=t.isSubscribed,s=Object(o.useState)([]),b=Object(i.a)(s,2),d=b[0],f=b[1],m=Object(o.useRef)(),E=e.children;Object(o.useEffect)((function(){d.length<=100?f([].concat(Object(a.a)(d),[[r.get(E)].concat()])):m.current.chart.series[0].addPoint(r.get(E),!0,!0)}),[r.get(E)]),Object(o.useEffect)((function(){c(E)||f([])}),[l]);var C={series:[{type:"line",data:d,name:E}],xAxis:{labels:{enabled:!1}},chart:{animation:!1,backgroundColor:{linearGradient:{x1:0,x2:0,y1:1,y2:0},stops:[[0,"rgb(0, 0, 0)"],[.3,"rgb(12, 12, 13)"],[1,"rgb(33, 49, 75)"]]}},credits:{enabled:!1},title:{text:""}};return n.a.createElement(g.a,{highcharts:y.a,allowChartUpdate:!0,options:C,ref:m})},p=function(e){var t=e.children,r=t.symbol,o=t.companyName,l=t.catchPhrase;return n.a.createElement(n.a.Fragment,null,n.a.createElement(C,null,r),o," - ",l,n.a.createElement(f,null,r))},v=r(90),h=r(89),k=r(87),O=function(){var e=u(),t=e.initialConfig,r=e.isConnected,l=e.stockSymbols,c=Object(o.useState)(),a=Object(i.a)(c,2),s=a[0];a[1];return n.a.createElement("div",null,null===t||void 0===t?void 0:t.stocksData.map((function(e,t){return e?n.a.createElement("div",{key:t},n.a.createElement(p,null,e)):null})),n.a.createElement("br",null),n.a.createElement("small",null,"[status: ",r?n.a.createElement("span",null,"conectado"):n.a.createElement("span",null,"desconectado"),"]"),n.a.createElement(h.a,{variant:"outlined"},n.a.createElement(v.a,{htmlFor:"symbols-selected"},"Visualizar gr\xe1fico"),n.a.createElement(k.a,{native:!0,value:s,onChange:function(e){e.target.name;console.log(e.target)},inputProps:{name:"stocksActived",id:"symbols-selected"}},n.a.createElement("option",{"aria-label":"None",value:""}),l.map((function(e){return n.a.createElement("option",{value:e},e)})))))},S=function(){return n.a.createElement(b,null,n.a.createElement(O,null))};c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.4db95119.chunk.js.map