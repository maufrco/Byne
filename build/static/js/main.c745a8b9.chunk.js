(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{67:function(e,t,a){e.exports=a.p+"static/media/byne-verde.3982f384.svg"},78:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(10),r=a.n(l),c=a(24),i=a(35),s=a(25),u=a(59),m=a(60),d=a(70),p=a(69),b=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).ws=Object(n.useRef)(new WebSocket("".concat("ws://").concat("127.0.0.1",":").concat("8080"),"json")),e.onopoen=e.ws.current.onopen=function(){try{console.log("CONNECTING")}catch(e){console.error(e)}},e.onerror=e.ws.current.onerror=function(){try{console.error("Connection Error with WebSocket")}catch(e){console.error(e)}},e}return Object(m.a)(a,null,[{key:"getInstance",value:function(){return a.instance||(a.instance=new a({})),a.instance}}]),a}(o.a.Component);b.instance=void 0;var y={initialConfig:void 0,isConnected:!1,stockSymbols:[],monitor:new Map},E=function(e,t){return Boolean(t.find((function(t){return e===t})))},f=function(e,t){var a=b.getInstance();switch(console.log(t.type,t.payload),t.type){case"SET_INITIAL":var n=Object(s.a)({},e);return n.initialConfig=t.payload,n;case"SET_STOCK_SYMBOLS":var o=Object(s.a)({},e);return o.stockSymbols=[].concat(Object(i.a)(o.stockSymbols),[t.payload]),o;case"SET_CONNECT":var l=Object(s.a)({},e);return l.isConnected=t.payload,l;case"SET_MONITOR":var r=Object(s.a)({},e);return E(t.payload[0],r.stockSymbols)?(r.monitor=new Map(r.monitor.set(t.payload[0],t.payload[1])),r):r;case"IS_SUBSCRIBED":return Object(s.a)({},e);case"SUBSCRIBE":var c=Object(s.a)({},e);if(E(t.payload,c.stockSymbols))return c;var u={event:"subscribe",stocks:[].concat(Object(i.a)(c.stockSymbols),[t.payload])};return c.stockSymbols=[].concat(Object(i.a)(c.stockSymbols),[t.payload]),a.ws.current.send(JSON.stringify(u)),c;case"UNSUBSCRIBE":var m=Object(s.a)({},e);if(!E(t.payload,m.stockSymbols))return m;var d={event:"unsubscribe",stocks:[t.payload]};return m.stockSymbols=m.stockSymbols.filter((function(e){return e!==t.payload})),m.monitor.delete(t.payload),a.ws.current.send(JSON.stringify(d)),m;default:return e}},g=Object(n.createContext)({state:y,dispatch:function(){}}),C=(g.Consumer,function(e){var t=e.children,a=Object(n.useReducer)(f,y),l=Object(c.a)(a,2),r={state:l[0],dispatch:l[1]};return o.a.createElement(g.Provider,{value:r},t)}),v=a(137),h=function(e){var t=Object(n.useContext)(g).dispatch,a=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{onChange:function(e){console.log("handleChange"),e.target.checked?t({type:"SUBSCRIBE",payload:a}):t({type:"UNSUBSCRIBE",payload:a})},color:"primary",name:a,inputProps:{"aria-label":"secondary checkbox"}}))},S=a(64),O=a.n(S),k=a(135),x=a(136),j=a(139),w=a(126),B=a(125),N=a(138),F=Object(B.a)((function(e){return Object(N.a)({price:{textAlign:"center",fontSize:28,fontWeight:500,color:"#f27a41"},containerItem:{borderColor:"#333",borderBottom:1,paddingTop:3,paddingBottom:3},symbol:{color:"#f27a41"},phrase:{fontWeight:300,fontSize:13,color:"#666"},root:{width:"100%",backgroundColor:e.palette.background.paper},headerList:{textAlign:"right",color:"#4cc3c4",borderColor:"#4cc3c4"},addButtom:{textAlign:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:"66%",textAlign:"right"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}})})),A=function(e){var t=e.children,a=t.symbol,l=t.companyName,r=t.catchPhrase,c=Object(n.useContext)(g).state.monitor,i=Object(n.useMemo)((function(){return c.get(a)}),[c,a]),s=F();return Object(n.useDebugValue)(a),o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{display:"flex",alignItems:"space-between",alignContent:"center",className:s.containerItem},o.a.createElement(k.a,{flexGrow:0},o.a.createElement(k.a,{flexGrow:0},l),o.a.createElement(k.a,{flexGrow:0,className:s.symbol}," ",a," ")),o.a.createElement(k.a,{flexGrow:1,pl:3,className:s.phrase},o.a.createElement(x.a,{only:["sm","xs"]},r)),o.a.createElement(k.a,null,i&&o.a.createElement(j.a,{color:"primary",icon:o.a.createElement(O.a,null),label:Number(i).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),o.a.createElement(h,null,a))),o.a.createElement(w.a,null))},I=a(127),T=a(140),L=a(134),R=a(141),D=a(128),G=a(65),_=a.n(G),M=function(){var e=F(),t=Object(n.useContext)(g).state.initialConfig,a=o.a.useState([]),l=Object(c.a)(a,2),r=l[0],i=l[1],s=o.a.useState(!1),u=Object(c.a)(s,2),m=u[0],d=u[1],p=function(){d(!0)};return o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(k.a,{boxShadow:3,p:4,m:2},o.a.createElement(I.a,{className:e.formControl},o.a.createElement(T.a,{id:"controlled-open-select-label"},"Adicionar"),o.a.createElement(L.a,{labelId:"controlled-open-select-label",id:"controlled-open-select",open:m,onClose:function(){d(!1)},onOpen:p,value:r,onChange:function(e){i([e.target.value])}},o.a.createElement(R.a,{value:""},o.a.createElement("em",null,"None")),null===t||void 0===t?void 0:t.stocksData.map((function(e,t){return e?o.a.createElement(R.a,{key:t,value:e.symbol},e.companyName):null})))),o.a.createElement(D.a,{size:"small",color:"secondary","aria-label":"add",variant:"round",onClick:p},o.a.createElement(_.a,null)),o.a.createElement(k.a,{borderBottom:2,mb:3,mt:1,component:"div",display:"block",className:e.headerList},"Empresas"),null===t||void 0===t?void 0:t.stocksData.map((function(e,t){return e?o.a.createElement("div",{key:t},o.a.createElement(A,null,e)):null}))))},U=a(49),W=a.n(U),z=a(66),J=a.n(z),P=a(67),H=a.n(P),Y=a(129);W.a.setOptions({colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.1)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}}});var K=function(e){var t=Object(n.useContext)(g).state,a=t.monitor,l=t.stockSymbols,r=Object(n.useState)([]),s=Object(c.a)(r,2),u=s[0],m=s[1],d=Object(n.useState)(),p=Object(c.a)(d,2),b=p[0],y=p[1],E=Object(n.useMemo)((function(){return a.get(b)}),[a,b]),f=Object(n.useRef)();Object(n.useEffect)((function(){u.length<=150?m([].concat(Object(i.a)(u),[[E].concat()])):f.current.chart.series[0].addPoint(E,!0,!0)}),[E]);var C={series:[{type:"line",data:u,name:E?"".concat(b," - ").concat(Number(E).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})):""}],xAxis:{title:{text:null}},yAxis:{title:{text:null},labels:{enabled:!1}},credits:{enabled:!1},title:{text:""},chart:{backgroundColor:{linearGradient:{x1:1,x2:1,y1:0,y2:1},stops:[[0,"rgb(33, 49, 75)"],[1,"rgb(42, 46, 54)"]]},animation:!1}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{width:"100%",margin:0,padding:0}},o.a.createElement(k.a,{display:"flex",m:0,p:0,bgcolor:"rgb(33, 49, 75)"},o.a.createElement(k.a,{p:3,flexGrow:1},o.a.createElement("img",{src:H.a,style:{color:"#FFF"},alt:"BYNE \u2013 Comunica\xe7\xe3o cr\xedtica, mais simples e eficiente"})),o.a.createElement(k.a,{pr:4,display:"row-reverse",justifyContent:"flex-end"},o.a.createElement(I.a,{disabled:l.length<=0},o.a.createElement(T.a,{id:"demo-simple-select-helper-label"},"Empresas"),o.a.createElement(L.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:b,onChange:function(e){y(e.target.value),m([])}},o.a.createElement(R.a,{value:""},o.a.createElement("em",null,"None")),l.map((function(e,t){return o.a.createElement(R.a,{key:t,value:e},e)}))),o.a.createElement(Y.a,null,"Selecione uma empresa para exibir no gr\xe1fico"))))),o.a.createElement(J.a,{highcharts:W.a,allowChartUpdate:!0,options:C,ref:f}))},V=function(){var e=Object(n.useContext)(g).state.isConnected;return o.a.createElement("small",null,"[status: ",e?o.a.createElement("span",null,"conectado"):o.a.createElement("span",null,"desconectado"),"]")},q=a(131),Q=a(68),X=a(132),Z=a(133),$=a(130),ee=a(50),te=function(){var e=Object(n.useContext)(g).dispatch;return b.getInstance().ws.current.onmessage=function(t){try{var a=JSON.parse(t.data);if("stocks-update"===a.event){var n=Object.keys(a.stocks)[0],o=Object.values(a.stocks)[0];e({type:"SET_MONITOR",payload:[n,o]})}else"connected"===a.event?(e({type:"SET_CONNECT",payload:!0}),e({type:"SET_INITIAL",payload:a})):console.log(a)}catch(l){console.error(l)}},null},ae=Object(Q.a)({palette:{type:"dark",primary:$.a,secondary:ee.a,background:{paper:"#2a2f39"}},typography:{fontFamily:" Helvetica Now, Arial"}}),ne=function(){var e=Object(n.useContext)(g).state,t=e.initialConfig;e.isConnected;return o.a.createElement(C,null,o.a.createElement(te,null),o.a.createElement(q.a,{theme:ae},o.a.createElement(X.a,{component:"div"},o.a.createElement(k.a,null,o.a.createElement(K,null,null===t||void 0===t?void 0:t.stocksData[0])),o.a.createElement(Z.a,{maxWidth:"lg"},o.a.createElement(M,null)),o.a.createElement(V,null))))};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ne,null)),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.c745a8b9.chunk.js.map