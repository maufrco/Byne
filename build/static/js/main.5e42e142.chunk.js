(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{62:function(e,t,a){e.exports=a.p+"static/media/byne-verde.3982f384.svg"},74:function(e,t,a){e.exports=a(85)},85:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(11),l=a.n(o),c=a(22),i=a(48),s=a(15),u=a(52),d=a(53),m=a(65),p=a(64),b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).ws=Object(r.useRef)(new WebSocket(a.url)),e}return Object(d.a)(a,null,[{key:"init",value:function(){a.instance.ws.current&&a.instance.ws.current.close(),a.instance.ws.current=new WebSocket(this.url)}},{key:"getInstance",value:function(){return a.instance||(a.instance=new a({})),a.instance}}]),a}(n.a.Component);b.instance=void 0,b.url="".concat("ws://").concat("127.0.0.1",":").concat("8080");var y={initialConfig:{event:"disconected",message:"",supportedSymbols:[""],stocksData:[{symbol:"",companyName:"",catchPhrase:"",basePrice:0}]},isConnected:!1,subscribe:[""],monitor:new Map,follows:[],reconect:!1},f=function(e,t){var a=b.getInstance();switch(t.type){case"SET_INITIAL":var r=Object(s.a)({},e);return r.initialConfig=t.payload,r.subscribe=[t.payload.supportedSymbols[0]],r.chartSelected=t.payload.supportedSymbols[0],r.follows=[t.payload.supportedSymbols[0]],a.ws.current.send(JSON.stringify({event:"subscribe",stocks:r.subscribe})),r;case"SET_CONNECT":var n=Object(s.a)({},e);return n.isConnected=t.payload,n;case"SET_CHART":var o=Object(s.a)({},e);return o.chartSelected=t.payload,o;case"SET_MONITOR":var l=Object(s.a)({},e);return l.monitor=new Map(l.monitor.set(t.payload[0],t.payload[1])),l;case"FOLLOW":var c=Object(s.a)({},e);return c.follows=[].concat(Object(i.a)(c.follows),[t.payload]),c;case"UNFOLLOW":var u=Object(s.a)({},e),d=u.follows.indexOf(t.payload);return d>-1&&u.follows.splice(d,1),u;case"RECONNECT":var m=Object(s.a)({},e);return m.reconect=t.payload,m;case"SUBSCRIBE":var p=Object(s.a)({},e),y={event:"subscribe",stocks:[t.payload]};return p.subscribe=[].concat(Object(i.a)(p.subscribe),[t.payload]),a.ws.current.send(JSON.stringify(y)),p;case"UNSUBSCRIBE":var f=Object(s.a)({},e),E={event:"unsubscribe",stocks:[t.payload]},g=f.subscribe.indexOf(t.payload);return g>-1&&f.subscribe.splice(g,1),a.ws.current.send(JSON.stringify(E)),f;default:return e}},E=Object(r.createContext)({state:y,dispatch:function(){}}),g=(E.Consumer,function(e){var t=e.children,a=Object(r.useReducer)(f,y),o=Object(c.a)(a,2),l={state:o[0],dispatch:o[1]};return n.a.createElement(E.Provider,{value:l},t)}),C=a(57),h=a.n(C),O=a(120),v=a(123),S=a(125),w=a(121),x=a(114),k=a(116),N=a(112),j=a(124),F=Object(N.a)((function(e){return Object(j.a)({price:{textAlign:"center",fontSize:28,fontWeight:500,color:"#f27a41"},containerItem:{borderColor:"#333",borderBottom:1,paddingTop:3,paddingBottom:3},symbol:{color:"#f27a41"},phrase:{fontWeight:300,fontSize:13,color:"#666"},root:{width:"100%",backgroundColor:e.palette.background.paper},headerList:{textAlign:"right",color:"#4cc3c4",borderColor:"#4cc3c4"},status:{color:"rgba(255, 255, 255, 0.5)"},connect:{color:e.palette.primary.dark},disconnect:{color:e.palette.error.dark},addButtom:{textAlign:"right"},extendedIcon:{marginRight:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:"66%",textAlign:"right"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}})})),T=a(126),B=a(115),A=a(59),L=a.n(A),I=a(60),R=a.n(I),D=function(e){var t=e.children,a=Object(r.useContext)(E),o=a.state,l=o.monitor,i=o.initialConfig,s=o.chartSelected,u=a.dispatch,d=Object(r.useMemo)((function(){return l.get(t)}),[l,t]),m=F(),p=n.a.useState(!0),b=Object(c.a)(p,2),y=b[0],f=b[1],g=Object(r.useMemo)((function(){return function(e){return i.stocksData.find((function(t){return t.symbol===e}))}(t)}),[i,t]),C=g.companyName,N=g.catchPhrase;return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{display:"flex",alignItems:"space-between",alignContent:"center",className:m.containerItem},n.a.createElement(O.a,{flexGrow:0},n.a.createElement(O.a,{flexGrow:0},C),n.a.createElement(O.a,{flexGrow:0,className:m.symbol}," ",t," ")),n.a.createElement(O.a,{flexGrow:1,pl:3,className:m.phrase},n.a.createElement(v.a,{only:["sm","xs"]},N)),n.a.createElement(O.a,null,d&&n.a.createElement(S.a,{color:"primary",icon:n.a.createElement(h.a,null),label:Number(d).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),n.a.createElement(w.a,{arrow:!0,title:y?"Deixar de acompanhar":"Come\xe7ar acompanhar","aria-label":"follow"},n.a.createElement(x.a,{labelPlacement:"top",control:n.a.createElement(T.a,{checked:y,color:"primary",onChange:function(e){e.target.checked?u({type:"SUBSCRIBE",payload:t}):u({type:"UNSUBSCRIBE",payload:t}),f(!y)},name:t}),label:"Follow"})),n.a.createElement(w.a,{arrow:!0,title:"Visualizar no gr\xe1fico","aria-label":"chart"},n.a.createElement("span",null,n.a.createElement(B.a,{color:"primary",value:t,disabled:t===s,onClick:function(){u({type:"SET_CHART",payload:t})},"aria-label":"Subscribe"},n.a.createElement(L.a,null)))),n.a.createElement(w.a,{arrow:!0,title:"Remover da lista","aria-label":"chart"},n.a.createElement(B.a,{"aria-label":"delete",onClick:function(){u({type:"UNSUBSCRIBE",payload:t}),u({type:"UNFOLLOW",payload:t})}},n.a.createElement(R.a,{fontSize:"small"}))))),n.a.createElement(k.a,null))},U=a(127),W=a(128),_=a(122),G=function(){var e=F(),t=Object(r.useContext)(E),a=t.state,o=a.initialConfig,l=a.follows,i=t.dispatch,s=n.a.useState(!1),u=Object(c.a)(s,2),d=u[0],m=(u[1],l.map((function(e,t){return e?n.a.createElement("div",{key:t},n.a.createElement(D,null,e)):null}))),p=o.supportedSymbols.filter((function(e){return!l.includes(e)})),b=o.stocksData.filter((function(e){return p.includes(e.symbol)})).map((function(e,t){return e?n.a.createElement("option",{key:t,value:e.symbol},e.companyName):null}));return n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(O.a,{boxShadow:3,p:4,m:2},n.a.createElement(U.a,{className:e.formControl},n.a.createElement(W.a,{shrink:!0,htmlFor:"age-native-label-placeholder"},"Empresas dispon\xedveis"),n.a.createElement(_.a,{value:d,onChange:function(e){i({type:"FOLLOW",payload:e.target.value}),i({type:"SUBSCRIBE",payload:e.target.value})},inputProps:{name:"age",id:"age-native-label-placeholder"}},n.a.createElement("option",{value:""},"Selecionar para listar abaixo e acompanhar"),b)),n.a.createElement(O.a,{borderBottom:2,mb:3,mt:1,component:"div",display:"block",className:e.headerList},"Empresas"),m))},M=a(44),P=a.n(M),z=a(61),J=a.n(z),H=a(62),V=a.n(H);P.a.setOptions({colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.1)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}}});var Y=function(){var e=Object(r.useContext)(E).state,t=e.monitor,a=e.chartSelected,o=Object(r.useState)([]),l=Object(c.a)(o,2),i=l[0],s=l[1],u=Object(r.useMemo)((function(){return t.get(a)}),[t,a]),d=Object(r.useRef)();Object(r.useEffect)((function(){d.current.chart.series[0].data.length<=80?d.current.chart.series[0].addPoint(u,!0,!1):d.current.chart.series[0].addPoint(u,!0,!0)}),[u]),Object(r.useEffect)((function(){s([])}),[a]);var m={series:[{type:"line",data:i,name:u?"".concat(a," - ").concat(Number(u).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})):""}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{title:{text:null}},credits:{enabled:!1},title:{text:""},chart:{alignTicks:!1,backgroundColor:{linearGradient:{x1:1,x2:1,y1:0,y2:1},stops:[[0,"rgb(33, 49, 75)"],[1,"rgb(42, 46, 54)"]]},animation:!1}};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"100%",margin:0,padding:0}},n.a.createElement(O.a,{display:"flex",m:0,p:0,bgcolor:"rgb(33, 49, 75)"},n.a.createElement(O.a,{p:3,flexGrow:1},n.a.createElement("img",{src:V.a,style:{color:"#FFF"},alt:"BYNE \u2013 Comunica\xe7\xe3o cr\xedtica, mais simples e eficiente"})))),n.a.createElement(J.a,{highcharts:P.a,allowChartUpdate:!0,options:m,ref:d}))},q=function(){var e=F(),t=Object(r.useContext)(E).state.isConnected;return n.a.createElement("small",null,n.a.createElement("span",{className:e.status},"[status: "),t?n.a.createElement("span",{className:e.connect},"conectado"):n.a.createElement("span",{className:e.disconnect},"desconectado"),n.a.createElement("span",{className:e.status},"]"))},K=a(118),Q=a(63),X=a(87),Z=a(119),$=a(117),ee=a(45),te=function(){var e=Object(r.useContext)(E).dispatch,t=b.getInstance();return t.ws.current.onerror=function(){try{return e({type:"SET_CONNECT",payload:!1}),console.error("Connection closing"),void setTimeout((function(){console.log("reconect error"),b.init(),e({type:"RECONNECT",payload:!0})}),1e4)}catch(t){console.error(t)}},t.ws.current.onclose=function(){try{return e({type:"SET_CONNECT",payload:!1}),console.error("Connection closing"),void setTimeout((function(){console.log("reconect"),b.init(),e({type:"RECONNECT",payload:!0})}),5e3)}catch(t){console.error(t)}},t.ws.current.onopen=function(t){try{console.log("CONNECTING"),e({type:"SET_CONNECT",payload:!0})}catch(a){console.error(a)}},t.ws.current.onmessage=function(t){try{var a=JSON.parse(t.data);if("stocks-update"===a.event){var r=Object.keys(a.stocks)[0],n=Object.values(a.stocks)[0];return void e({type:"SET_MONITOR",payload:[r,n]})}return"connected"===a.event?void e({type:"SET_INITIAL",payload:a}):void 0}catch(o){console.error(o)}},null},ae=Object(Q.a)({palette:{type:"dark",primary:$.a,secondary:ee.a,background:{paper:"#2a2f39"}},typography:{fontFamily:" Helvetica Now, Arial"}}),re=function(){Object(r.useContext)(E).state.isConnected;return n.a.createElement(g,null,n.a.createElement(te,null),n.a.createElement(K.a,{theme:ae},n.a.createElement(X.a,{component:"div"},n.a.createElement(O.a,null,n.a.createElement(Y,null)),n.a.createElement(Z.a,{maxWidth:"lg"},n.a.createElement(G,null)),n.a.createElement(O.a,{position:"fixed",bottom:"0%",right:"0%"},n.a.createElement(q,null)))))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(re,null)),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.5e42e142.chunk.js.map